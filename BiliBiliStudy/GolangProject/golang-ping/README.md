# golang实现ping操作

## ICMP报文格式

![ICMP报文格式](./image/ICMP报文格式.png)

## ICMP校验和算法

1. 报文内容，相邻两个字节拼接到一起组成一个16bit数，将这些数累加求和
2. 若长度为奇数，则将剩余的1个字节，也累加到求和
3. 得出总和之后，将和值的高16位与低16位不断求和，直到高16位为0
4. 以上三步得出结果后，取反，即为校验和